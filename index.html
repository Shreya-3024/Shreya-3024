<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shreya Prajapati ¬∑ full stack ¬∑ snake</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }

    body {
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(-45deg, #0f0c29, #302b63, #24243e, #1a1a40);
      background-size: 400% 400%;
      animation: gradient 12s ease infinite;
      overflow: hidden;
      color: white;
      padding: 16px;
    }

    @keyframes gradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* floating orbs (unchanged) */
    .floating {
      position: absolute;
      width: 120px;
      height: 120px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 50%;
      animation: float 6s ease-in-out infinite;
      z-index: 0;
    }
    .floating:nth-child(1) { top: 10%; left: 15%; }
    .floating:nth-child(2) { bottom: 15%; right: 10%; animation-delay: 2s; }

    @keyframes float {
      0% { transform: translateY(0); }
      50% { transform: translateY(-20px); }
      100% { transform: translateY(0); }
    }

    @keyframes slideInDown {
      from {
        opacity: 0;
        transform: translateY(-30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes pulse {
      0%, 100% { box-shadow: 0 0 40px rgba(138, 43, 226, 0.6), 0 0 20px rgba(0, 247, 255, 0.3); }
      50% { box-shadow: 0 0 60px rgba(168, 85, 247, 0.8), 0 0 30px rgba(0, 247, 255, 0.5); }
    }

    @keyframes glowScale {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.02); }
    }

    /* main container with perspective */
    .container {
      perspective: 1000px;
      position: relative;
      z-index: 10;
      width: fit-content;
      margin: 0 auto;
      animation: slideInDown 0.8s ease-out;
    }

    /* main profile card */
    .card {
      width: 440px;
      background: rgba(255, 255, 255, 0.06);
      backdrop-filter: blur(20px);
      border-radius: 20px;
      padding: 28px 24px;
      text-align: center;
      box-shadow: 0 0 40px rgba(138, 43, 226, 0.6);
      transition: all 0.3s ease;
      border: 1px solid rgba(255, 255, 255, 0.1);
      animation: pulse 3s ease-in-out infinite;
    }

    .card:hover {
      transform: translateY(-8px);
      box-shadow: 0 0 60px rgba(168, 85, 247, 0.9), 0 0 30px rgba(0, 247, 255, 0.6), inset 0 0 20px rgba(168, 85, 247, 0.2);
      border-color: rgba(168, 85, 247, 0.6);
    }

    .card h1 {
      font-size: 28px;
      font-weight: 700;
      background: linear-gradient(90deg, #00f7ff, #a855f7);
      -webkit-background-clip: text;
      color: transparent;
      animation: slideInDown 0.8s ease-out 0.1s both;
      transition: all 0.3s ease;
    }

    .card h1:hover {
      text-shadow: 0 0 30px rgba(168, 85, 247, 0.8), 0 0 20px rgba(0, 247, 255, 0.6);
      filter: drop-shadow(0 0 8px #a855f7);
      transform: scale(1.05);
    }

    .card h3 {
      margin-top: 6px;
      font-weight: 400;
      color: #ccc;
      font-size: 1rem;
      animation: slideInDown 0.8s ease-out 0.2s both;
      transition: all 0.3s ease;
    }

    .card h3:hover {
      color: #00f7ff;
      transform: scale(1.02);
    }

    /* contact block ‚Äî fresh green/pink/purple background (glassmorphism with vibrancy) */
    .contact-info {
      margin: 20px 0 10px;
      padding: 18px 12px 12px 12px;
      background: linear-gradient(145deg, rgba(255, 105, 180, 0.25), rgba(50, 205, 50, 0.25), rgba(147, 112, 219, 0.35));
      backdrop-filter: blur(8px);
      border-radius: 24px;
      border: 1px solid rgba(255, 255, 255, 0.25);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
      animation: slideInDown 0.8s ease-out 0.3s both;
      transition: all 0.3s ease;
    }

    .contact-info:hover {
      box-shadow: 0 8px 30px rgba(168, 85, 247, 0.5), inset 0 0 15px rgba(0, 247, 255, 0.1);
      border-color: rgba(168, 85, 247, 0.5);
      transform: translateY(-3px);
    }

    .contact-row {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;
      gap: 8px 16px;
      margin: 8px 0;
    }

    .contact-item {
      display: flex;
      align-items: center;
      gap: 8px;
      background: rgba(0, 0, 0, 0.3);
      padding: 6px 16px;
      border-radius: 40px;
      font-size: 0.9rem;
      border: 1px solid rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(4px);
      transition: all 0.3s ease;
      color: white;
    }

    .contact-item:hover {
      background: #a855f7;
      transform: scale(1.08) translateY(-2px);
      border-color: #00f7ff;
      box-shadow: 0 8px 15px rgba(168, 85, 247, 0.5), 0 0 15px rgba(0, 247, 255, 0.3);
      font-weight: 500;
    }

    .contact-item:active {
      transform: scale(0.95);
    }

    .contact-item i { 
      font-style: normal;
      font-size: 1.2rem;
      transition: transform 0.3s ease;
    }

    .contact-item:hover i {
      transform: rotate(15deg) scale(1.2);
    }

    /* profile links (leetcode, codeforces etc) */
    .profile-links {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 12px;
      margin: 14px 0 6px;
      animation: slideInDown 0.8s ease-out 0.4s both;
    }

    .profile-link {
      background: rgba(0, 0, 0, 0.4);
      padding: 6px 14px;
      border-radius: 40px;
      font-size: 0.85rem;
      font-weight: 500;
      text-decoration: none;
      color: white;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      border: 1px solid rgba(255,255,255,0.15);
      transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      backdrop-filter: blur(4px);
      position: relative;
      overflow: hidden;
    }

    .profile-link::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
      transition: left 0.5s ease;
    }

    .profile-link:hover::before {
      left: 100%;
    }

    .profile-link:hover {
      background: #00f7ff;
      color: #000;
      transform: scale(1.12) translateY(-4px) rotate(2deg);
      border-color: #a855f7;
      box-shadow: 0 12px 25px rgba(0, 247, 255, 0.5), 0 0 20px rgba(168, 85, 247, 0.4);
      font-weight: 600;
    }

    .profile-link:active {
      transform: scale(0.95);
    }

    .profile-link.linkedin { background: rgba(10, 102, 194, 0.3); }
    .profile-link.github { background: rgba(36, 41, 46, 0.5); }
    .profile-link.leetcode { background: rgba(255, 161, 22, 0.25); }
    .profile-link.codeforces { background: rgba(73, 128, 240, 0.3); }
    .profile-link.gfg { background: rgba(47, 128, 0, 0.3); }

    /* skills unchanged (except inner) */
    .skills {
      margin-top: 12px;
      animation: slideInDown 0.8s ease-out both;
    }

    .skills:nth-of-type(3) {
      animation-delay: 0.5s;
    }

    .skills:nth-of-type(5) {
      animation-delay: 0.6s;
    }

    .skills:nth-of-type(7) {
      animation-delay: 0.7s;
    }

    .skills span {
      display: inline-block;
      padding: 8px 12px;
      margin: 6px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      font-size: 13px;
      transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      position: relative;
      cursor: pointer;
    }

    .skills span::after {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: rgba(168, 85, 247, 0.4);
      border-radius: 15px;
      z-index: -1;
      transition: left 0.3s ease;
    }

    .skills span:hover {
      background: linear-gradient(135deg, #a855f7, #00f7ff);
      transform: scale(1.18) translateY(-3px) rotate(-3deg);
      border-color: #00f7ff;
      color: white;
      box-shadow: 0 8px 20px rgba(168, 85, 247, 0.5), 0 0 15px rgba(0, 247, 255, 0.3);
      font-weight: 600;
    }

    .skills span:active {
      transform: scale(0.95);
    }

    .section-title {
      margin-top: 20px;
      font-size: 16px;
      color: #00f7ff;
      font-weight: 600;
      letter-spacing: 0.5px;
      animation: slideInDown 0.8s ease-out both;
      transition: all 0.3s ease;
    }

    .section-title:hover {
      color: #a855f7;
      text-shadow: 0 0 10px rgba(0, 247, 255, 0.8);
      transform: scale(1.05);
    }

    /* github button (original but kept) */
    .btn {
      margin: 20px 6px 6px 6px;
      padding: 12px 30px;
      border: none;
      border-radius: 30px;
      background: linear-gradient(90deg, #00f7ff, #a855f7);
      color: black;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      font-size: 1rem;
      animation: slideInDown 0.8s ease-out 0.8s both;
      position: relative;
      overflow: hidden;
      border: 2px solid transparent;
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }

    .btn:hover::before {
      width: 300px;
      height: 300px;
    }

    .btn:hover {
      transform: scale(1.12) translateY(-3px);
      box-shadow: 0 15px 35px rgba(168, 85, 247, 0.7), 0 0 25px rgba(0, 247, 255, 0.5), inset 0 0 15px rgba(255, 255, 255, 0.2);
      border-color: rgba(255, 255, 255, 0.3);
    }

    .btn:active {
      transform: scale(0.95);
    }

    /* ----- SNAKE GAME SECTION (compact & inside card) ----- */
    .game-section {
      margin-top: 24px;
      border-top: 1px dashed rgba(255,255,255,0.3);
      padding-top: 20px;
      animation: slideInDown 0.8s ease-out 0.9s both;
      transition: all 0.3s ease;
    }

    .game-section:hover {
      border-top: 1px dashed rgba(168, 85, 247, 0.6);
    }

    .game-title {
      color: #f0e68c;
      font-weight: 600;
      letter-spacing: 1px;
      margin-bottom: 12px;
      font-size: 1.2rem;
      text-shadow: 0 0 8px #a855f7;
      transition: all 0.3s ease;
      animation: slideInDown 0.8s ease-out both;
    }

    .game-title:hover {
      color: #00f7ff;
      text-shadow: 0 0 15px #a855f7, 0 0 10px #00f7ff;
      transform: scale(1.05);
    }

    .snake-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      background: rgba(0, 0, 0, 0.4);
      border-radius: 28px;
      padding: 16px 10px 10px 10px;
      backdrop-filter: blur(6px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease;
      animation: slideInDown 0.8s ease-out 0.95s both;
    }

    .snake-container:hover {
      background: rgba(0, 0, 0, 0.5);
      border-color: rgba(168, 85, 247, 0.5);
      box-shadow: 0 0 20px rgba(168, 85, 247, 0.3), inset 0 0 15px rgba(0, 247, 255, 0.05);
      transform: translateY(-3px);
    }

    canvas#snakeCanvas {
      background: #0a0c1a;
      border-radius: 20px;
      box-shadow: 0 0 20px #a855f7;
      width: 220px;
      height: 220px;
      display: block;
      border: 2px solid #b874ff;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    canvas#snakeCanvas:hover {
      box-shadow: 0 0 30px #a855f7, 0 0 20px #00f7ff, inset 0 0 15px rgba(168, 85, 247, 0.2);
      border-color: #00f7ff;
      transform: scale(1.02);
    }

    .snake-controls {
      display: flex;
      gap: 14px;
      margin: 12px 0 6px;
      flex-wrap: wrap;
      justify-content: center;
      animation: slideInDown 0.8s ease-out 1s both;
    }

    .snake-btn {
      background: rgba(255, 255, 255, 0.1);
      border: none;
      color: white;
      font-size: 1.1rem;
      padding: 6px 14px;
      border-radius: 40px;
      backdrop-filter: blur(6px);
      border: 1px solid rgba(255,255,255,0.2);
      transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      font-weight: 500;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .snake-btn::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(0, 247, 255, 0.3);
      transform: translate(-50%, -50%);
      transition: width 0.5s, height 0.5s;
    }

    .snake-btn:hover::after {
      width: 200px;
      height: 200px;
    }

    .snake-btn:hover {
      background: linear-gradient(135deg, #a855f7, #00f7ff);
      transform: scale(1.12) translateY(-2px);
      box-shadow: 0 10px 25px rgba(0, 247, 255, 0.5), 0 0 15px rgba(168, 85, 247, 0.4);
      border-color: #00f7ff;
      color: white;
      font-weight: 600;
    }

    .snake-btn:active {
      transform: scale(0.95);
    }

    .score-badge {
      font-size: 0.9rem;
      background: linear-gradient(135deg, rgba(30, 30, 63, 0.9), rgba(168, 85, 247, 0.2));
      padding: 4px 16px;
      border-radius: 30px;
      display: inline-block;
      border: 1px solid #f0e68c;
      transition: all 0.3s ease;
      animation: slideInDown 0.8s ease-out 1s both;
    }

    .score-badge:hover {
      background: linear-gradient(135deg, rgba(168, 85, 247, 0.4), rgba(0, 247, 255, 0.2));
      box-shadow: 0 0 15px rgba(240, 230, 140, 0.5), inset 0 0 10px rgba(0, 247, 255, 0.1);
      transform: scale(1.08);
    }

    .footer {
      margin-top: 18px;
      font-size: 13px;
      color: #bbb;
      animation: slideInDown 0.8s ease-out 1.1s both;
      transition: all 0.3s ease;
    }

    .footer:hover {
      color: #00f7ff;
      text-shadow: 0 0 10px rgba(0, 247, 255, 0.6);
      transform: scale(1.03);
    }
  </style>
</head>
<body>

  <!-- floating orbs (kept) -->
  <div class="floating"></div>
  <div class="floating"></div>

  <div class="container">
    <div class="card" id="card">
      
      <!-- main heading -->
      <h1>Shreya Prajapati</h1>
      <h3>Full Stack Developer (MERN) | AI Enthusiast</h3>

      <!-- CONTACT INFO with fresh green/pink/purple background (exactly as requested) -->
      <div class="contact-info">
        <div class="contact-row">
          <!-- phone with +91 -->
          <div class="contact-item"><i>üì±</i> +91 8470923024</div>
          <!-- email -->
          <div class="contact-item"><i>‚úâÔ∏è</i> shreya3024@gmail.com</div>
        </div>

        <!-- all coding profile links (leet, codeforces, linkedin, geeks) -->
        <div class="profile-links">
          <a href="https://leetcode.com/u/shreya3024_/" target="_blank" class="profile-link leetcode">üíª LeetCode</a>
          <a href="https://codeforces.com/profile/Lily45" target="_blank" class="profile-link codeforces">‚ö° Codeforces</a>
          <a href="https://www.linkedin.com/in/shreya-prajapati-5185ab274/" target="_blank" class="profile-link linkedin">üîó LinkedIn</a>
          <a href="https://www.geeksforgeeks.org/profile/shreyanhv4" target="_blank" class="profile-link gfg">üë®‚Äçüíª GeeksforGeeks</a>
        </div>
      </div>

      <!-- core skills (exactly as before, but kept unchanged) -->
      <div class="section-title">Core Skills</div>
      <div class="skills">
        <span>HTML</span> <span>CSS</span> <span>JavaScript</span> <span>React</span>
        <span>Node.js</span> <span>Express</span> <span>MongoDB</span>
      </div>

      <div class="section-title">Strong In</div>
      <div class="skills">
        <span>Java</span> <span>C++</span> <span>DSA</span> <span>OOP</span>
        <span>DBMS</span> <span>Computer Fundamentals</span>
      </div>

      <div class="section-title">Learning</div>
      <div class="skills">
        <span>DevOps Basics</span> <span>Cloud Computing</span> <span>System Design</span>
      </div>

      <!-- GITHUB button (keep original) -->
      <button class="btn" onclick="window.open('https://github.com/Shreya-3024', '_blank')">Visit GitHub</button>

      <!-- ========== SNAKE GAME ADDED ========== -->
      <div class="game-section">
        <div class="game-title">üêç classic snake ¬∑ chill mode</div>
        <div class="snake-container">
          <canvas id="snakeCanvas" width="200" height="200"></canvas>
          <div class="snake-controls">
            <button class="snake-btn" id="restartSnake">‚Üª restart</button>
            <span class="score-badge" id="snakeScore">score: 0</span>
          </div>
          <div style="font-size:0.75rem; color:#b2b2ff;">‚¨ÜÔ∏è‚¨áÔ∏è‚¨ÖÔ∏è‚û°Ô∏è  or  WASD</div>
        </div>
      </div>

      <div class="footer">
        Building scalable & intelligent web systems üöÄ
      </div>
    </div>
  </div>

  <script>
    // ---------- 3D tilt effect (unchanged) ----------
    const card = document.getElementById("card");
    document.addEventListener("mousemove", (e) => {
      let x = (window.innerWidth / 2 - e.pageX) / 25;
      let y = (window.innerHeight / 2 - e.pageY) / 25;
      card.style.transform = `rotateY(${x}deg) rotateX(${y}deg)`;
    });
    document.addEventListener("mouseleave", () => {
      card.style.transform = "rotateY(0deg) rotateX(0deg)";
    });

    // ---------- SNAKE GAME (inside card, compact) ----------
    (function() {
      const canvas = document.getElementById('snakeCanvas');
      const ctx = canvas.getContext('2d');
      const scoreSpan = document.getElementById('snakeScore');

      const GRID_SIZE = 10;          // 20x20 grid (cell = 20px)
      const CELL_SIZE = canvas.width / GRID_SIZE;

      let snake = [
        {x: 10, y: 10},
        {x: 9, y: 10},
        {x: 8, y: 10}
      ];
      let food = {x: 15, y: 10};
      let direction = 'RIGHT';
      let nextDirection = 'RIGHT';
      let gameOver = false;
      let gameInterval = null;
      let gameSpeed = 150; // ms

      // helper to generate random food not colliding with snake
      function randomFood() {
        const maxAttempts = 1000;
        for (let attempt = 0; attempt < maxAttempts; attempt++) {
          const randX = Math.floor(Math.random() * GRID_SIZE);
          const randY = Math.floor(Math.random() * GRID_SIZE);
          if (!snake.some(seg => seg.x === randX && seg.y === randY)) {
            food = {x: randX, y: randY};
            return true;
          }
        }
        // if board nearly full -> look for any empty cell (slow but safe)
        for (let i = 0; i < GRID_SIZE; i++) {
          for (let j = 0; j < GRID_SIZE; j++) {
            if (!snake.some(seg => seg.x === i && seg.y === j)) {
              food = {x: i, y: j};
              return true;
            }
          }
        }
        // completely full -> you win! but we set gameover as win condition
        gameOver = true;
        return false;
      }

      function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // draw grid (very subtle)
        ctx.strokeStyle = 'rgba(255,255,255,0.08)';
        ctx.lineWidth = 0.5;
        for (let i = 0; i <= GRID_SIZE; i++) {
          ctx.beginPath();
          ctx.moveTo(i * CELL_SIZE, 0);
          ctx.lineTo(i * CELL_SIZE, canvas.height);
          ctx.stroke();
          ctx.beginPath();
          ctx.moveTo(0, i * CELL_SIZE);
          ctx.lineTo(canvas.width, i * CELL_SIZE);
          ctx.stroke();
        }

        // draw snake
        snake.forEach((seg, idx) => {
          const isHead = idx === 0;
          ctx.fillStyle = isHead ? '#a0ff7c' : '#5ae8d5';
          ctx.shadowColor = isHead ? '#f0f' : '#0ff';
          ctx.shadowBlur = 12;
          ctx.fillRect(seg.x * CELL_SIZE + 1, seg.y * CELL_SIZE + 1, CELL_SIZE - 2, CELL_SIZE - 2);
        });
        ctx.shadowBlur = 0;

        // draw food (pink / purple)
        ctx.fillStyle = '#ff92d0';
        ctx.shadowColor = '#ff44cc';
        ctx.shadowBlur = 15;
        ctx.beginPath();
        ctx.arc(food.x * CELL_SIZE + CELL_SIZE/2, food.y * CELL_SIZE + CELL_SIZE/2, CELL_SIZE/2 - 2, 0, 2*Math.PI);
        ctx.fill();
        ctx.shadowBlur = 0;

        // gameover overlay
        if (gameOver) {
          ctx.fillStyle = 'rgba(0,0,0,0.6)';
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          ctx.font = 'bold 16px Poppins';
          ctx.fillStyle = '#ffb3ff';
          ctx.shadowColor = '#b300ff';
          ctx.shadowBlur = 16;
          ctx.fillText('‚ü≤ GAME OVER', 25, 110);
          ctx.shadowBlur = 0;
        }

        scoreSpan.innerText = `score: ${snake.length - 3}`;
      }

      function move() {
        if (gameOver) return;

        // apply direction (avoid instant reverse)
        if (nextDirection === 'UP' && direction !== 'DOWN') direction = nextDirection;
        else if (nextDirection === 'DOWN' && direction !== 'UP') direction = nextDirection;
        else if (nextDirection === 'LEFT' && direction !== 'RIGHT') direction = nextDirection;
        else if (nextDirection === 'RIGHT' && direction !== 'LEFT') direction = nextDirection;

        const head = snake[0];
        let newHead = { ...head };
        if (direction === 'RIGHT') newHead.x += 1;
        else if (direction === 'LEFT') newHead.x -= 1;
        else if (direction === 'UP') newHead.y -= 1;
        else if (direction === 'DOWN') newHead.y += 1;

        // wall collision -> gameover
        if (newHead.x < 0 || newHead.x >= GRID_SIZE || newHead.y < 0 || newHead.y >= GRID_SIZE) {
          gameOver = true;
          draw();
          return;
        }

        // check if food eaten
        const eatsFood = (newHead.x === food.x && newHead.y === food.y);

        // build new snake array
        let newSnake = [newHead, ...snake];
        if (!eatsFood) {
          newSnake.pop(); // remove tail
        }

        // self-collision check (head collides with body)
        const headCollision = newSnake.slice(1).some(seg => seg.x === newHead.x && seg.y === newHead.y);
        if (headCollision) {
          gameOver = true;
          draw();
          return;
        }

        snake = newSnake;

        if (eatsFood) {
          if (!randomFood()) {
            // could not place food -> you basically win, but treat as gameOver with message
            gameOver = true;
          }
        }

        draw();
      }

      function restartGame() {
        snake = [
          {x: 10, y: 10},
          {x: 9, y: 10},
          {x: 8, y: 10}
        ];
        direction = 'RIGHT';
        nextDirection = 'RIGHT';
        gameOver = false;
        // place food safely
        food = {x: 15, y: 10};
        if (snake.some(seg => seg.x === food.x && seg.y === food.y)) {
          randomFood();
        }
        draw();
      }

      function initGame() {
        if (gameInterval) clearInterval(gameInterval);
        restartGame();
        gameInterval = setInterval(() => move(), gameSpeed);
      }

      // keyboard controls
      window.addEventListener('keydown', (e) => {
        if (gameOver) return;
        const key = e.key;
        // prevent page scrolling
        if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'w', 'W', 'A', 'a', 's', 'S', 'd', 'D'].includes(key)) {
          e.preventDefault();
        }
        if (key === 'ArrowUp' || key === 'w' || key === 'W') nextDirection = 'UP';
        else if (key === 'ArrowDown' || key === 's' || key === 'S') nextDirection = 'DOWN';
        else if (key === 'ArrowLeft' || key === 'a' || key === 'A') nextDirection = 'LEFT';
        else if (key === 'ArrowRight' || key === 'd' || key === 'D') nextDirection = 'RIGHT';
      });

      document.getElementById('restartSnake').addEventListener('click', () => {
        restartGame();
      });

      // start game
      initGame();

      // optional: cleanup interval if needed (but it's fine)
      window.addEventListener('unload', function() {
        if (gameInterval) clearInterval(gameInterval);
      });
    })();
  </script>
</body>
</html>
